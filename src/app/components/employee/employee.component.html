<div class="container-fluid py-4">
  <!-- Div 1: Header -->
  <div class="bg-white shadow-sm p-3 rounded mb-4 d-flex justify-content-between align-items-center">
    <div>
      <h4 class="fw-bold text-dark">Total Employee</h4>
      <p class="text-primary mb-0" style="font-size: 1.5rem;">{{ employees.length }}</p>
    </div>
    <div>
      <button class="btn btn-primary px-4" (click)="openAddModal()">+ Add Employee</button>
    </div>
  </div>

  <!-- Div 2: Navbar -->
  <div class="bg-light shadow-sm p-2 rounded mb-4 d-flex align-items-center">
    <div class="d-flex gap-3">
      <button class="btn btn-outline-secondary active">Employee</button>
      <button class="btn btn-outline-secondary">Leave Request</button>
    </div>
    <div class="ms-auto">
      <input type="text" class="form-control" placeholder="Search Employee"  />
    </div>
  </div>

  <!-- Employee Cards Section -->
  <div class="row g-4">
    <div class="col-12 col-md-3" *ngFor="let emp of pagedEmployees ">
      <div class="card h-100 rounded shadow-sm employee-card" style="background-color: #d0f0c0;">
        <!-- Card Content Box -->
        <div class="card-content p-3 rounded bg-white">
          <div class="d-flex justify-content-between align-items-start mb-3">
            <img [src]="emp.profilePic" alt="profile" class="rounded-circle" width="50" height="50">
            <div class="dropdown">
              <button class="btn btn-light btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown"></button>
              <ul class="dropdown-menu dropdown-menu-end">
                <li><a class="dropdown-item" (click)="openEditModal(emp)" >Edit</a></li>
                <li><a class="dropdown-item text-danger" (click)="deleteEmployee(emp.id)">Delete</a></li>
              </ul>
            </div>
          </div>
          <h6 class="fw-bold mb-1 text-dark">{{ emp.name }}</h6>
          <p class="mb-1 text-secondary">Department: {{ emp.department }}</p>
          <p class="mb-1 text-secondary">Hired: {{ emp.hiredDate | date }}</p>
          <p class="mb-1 text-secondary">Email: {{ emp.email }}</p>
          <p class="mb-1 text-secondary">Phone: {{ emp.phone }}</p>
          <span class="badge" [ngClass]="emp.status === 'Active' ? 'bg-success' : 'bg-danger'">{{ emp.status }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Pagination -->
  <div class="d-flex justify-content-center mt-4">
    <button class="btn btn-outline-secondary me-2" (click)="prevPage()">Previous</button>
    <span class="mx-2">Page {{ page }}</span>
    <button class="btn btn-outline-secondary" (click)="nextPage()">Next</button>
  </div>
</div>

<style>
.employee-card {
  transition: transform 0.3s, box-shadow 0.3s;
}
.employee-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 25px rgba(0,0,0,0.2);
}
.card-content img {
  border: 2px solid #d0f0c0;
}
.card-content {
  transition: background-color 0.3s;
}
.card-content:hover {
  background-color: #f0f8ff;
}
</style>




<!-- Add edit modal for add and edit click -->

<!-- Add/Edit Employee Modal -->
<div class="modal fade" id="employeeModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">{{ editingEmployee ? 'Edit Employee' : 'Add Employee' }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form #empForm="ngForm">
          <div class="mb-2">
            <label>Name</label>
            <input type="text" class="form-control" [(ngModel)]="employeeForm.name" name="name" required>
          </div>
          <div class="mb-2">
            <label>Department</label>
            <input type="text" class="form-control" [(ngModel)]="employeeForm.department" name="department" required>
          </div>
          <div class="mb-2">
            <label>Hired Date</label>
            <input type="date" class="form-control" [(ngModel)]="employeeForm.hiredDate" name="hiredDate" required>
          </div>
          <div class="mb-2">
            <label>Email</label>
            <input type="email" class="form-control" [(ngModel)]="employeeForm.email" name="email" required>
          </div>
          <div class="mb-2">
            <label>Phone</label>
            <input type="text" class="form-control" [(ngModel)]="employeeForm.phone" name="phone" required>
          </div>
          <div class="mb-2">
            <label>Status</label>
            <select class="form-select" [(ngModel)]="employeeForm.status" name="status" required>
              <option value="Active">Active</option>
              <option value="On Leave">On Leave</option>
            </select>
          </div>
          <div class="mb-2">
            <label>Profile Pic URL</label>
            <input type="text" class="form-control" [(ngModel)]="employeeForm.profilePic" name="profilePic">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="saveEmployee()">
          {{ editingEmployee ? 'Update' : 'Add' }}
        </button>
      </div>
    </div>
  </div>
</div>

